import{r as f,j as e}from"./index-Wli4tPeE.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,c)=>c?c.toUpperCase():i.toLowerCase()),W=t=>{const a=Z(t);return a.charAt(0).toUpperCase()+a.slice(1)},X=(...t)=>t.filter((a,i,c)=>!!a&&a.trim()!==""&&c.indexOf(a)===i).join(" ").trim(),K=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=f.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:n="",children:m,iconNode:g,...u},h)=>f.createElement("svg",{ref:h,...J,width:a,height:a,stroke:t,strokeWidth:c?Number(i)*24/Number(a):i,className:X("lucide",n),...!m&&!K(u)&&{"aria-hidden":"true"},...u},[...g.map(([s,l])=>f.createElement(s,l)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=(t,a)=>{const i=f.forwardRef(({className:c,...n},m)=>f.createElement(Q,{ref:m,iconNode:a,className:X(`lucide-${U(W(t))}`,`lucide-${t}`,c),...n}));return i.displayName=W(t),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],se=k("award",ee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ae=k("eye",te);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ie=k("info",le);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ne=k("rotate-ccw",re);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oe=k("shield",ce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xe=k("target",de);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],me=k("trending-up",he);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pe=k("triangle-alert",ue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ge=k("zap",fe),ve=({asteroid:t,deflectionAngle:a,deflectionPower:i,effectiveness:c,onProgress:n})=>{const m=f.useRef(null),[g,u]=f.useState({x:20,y:0}),[h,s]=f.useState(!1),[l,v]=f.useState({x:0,y:0}),[x,r]=f.useState({x:400,y:-200,z:300}),[y,j]=f.useState(!1),[A,S]=f.useState([]);f.useEffect(()=>{let o=0;const p=setInterval(()=>{if(o+=.02,o>=1){clearInterval(p),n(1);return}n(o);const d=c*a*i/100,w=0,F=0,G=0,R=400*(1-o)+(w+d*5)*o,O=-200*(1-o)+(F-d*3)*o,b=300*(1-o)+(G+d*8)*o;if(r({x:R,y:O,z:b}),o>.2&&o<.8){if(j(!0),Math.random()>.7){const N={id:Date.now()+Math.random(),x:R,y:O,vx:(Math.random()-.5)*10,vy:(Math.random()-.5)*10};S(M=>[...M.slice(-20),N])}}else j(!1);u(N=>({...N,y:N.y+.5}))},50);return()=>clearInterval(p)},[c,a,i,n]),f.useEffect(()=>{const o=setInterval(()=>{S(p=>p.map(d=>({...d,x:d.x+d.vx,y:d.y+d.vy,vx:d.vx*.95,vy:d.vy*.95})).filter(d=>Math.abs(d.vx)>.1||Math.abs(d.vy)>.1))},50);return()=>clearInterval(o)},[]);const E=o=>{s(!0),v({x:o.clientX,y:o.clientY})},L=o=>{if(!h)return;const p=o.clientX-l.x,d=o.clientY-l.y;u(w=>({x:Math.max(-90,Math.min(90,w.x-d*.5)),y:w.y+p*.5})),v({x:o.clientX,y:o.clientY})},D=()=>s(!1),T={small:20,medium:40,large:70,massive:100}[t.size];return e.jsxs("div",{ref:m,className:"w-full h-full relative overflow-hidden cursor-move select-none",onMouseDown:E,onMouseMove:L,onMouseUp:D,onMouseLeave:D,style:{background:"radial-gradient(ellipse at center, #0a0a1a 0%, #000 100%)"},children:[e.jsx("div",{className:"absolute inset-0",children:Array.from({length:100}).map((o,p)=>e.jsx("div",{className:"absolute rounded-full bg-white",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,opacity:Math.random()*.8+.2}},p))}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{perspective:"1000px",perspectiveOrigin:"center center"},children:e.jsxs("div",{style:{transformStyle:"preserve-3d",transform:`rotateX(${g.x}deg) rotateY(${g.y}deg)`,transition:h?"none":"transform 0.3s ease-out"},children:[e.jsx("div",{className:"absolute rounded-full",style:{width:"150px",height:"150px",background:"radial-gradient(circle at 30% 30%, #4a9eff, #1e5ba8, #0a2e5c)",boxShadow:`
                inset -20px -20px 50px rgba(0,0,0,0.5),
                0 0 50px rgba(74,158,255,0.5),
                0 0 100px rgba(74,158,255,0.3)
              `,transform:"translate(-50%, -50%)",left:"50%",top:"50%"}}),e.jsx("div",{className:"absolute rounded-full",style:{width:`${T}px`,height:`${T}px`,background:"radial-gradient(circle at 40% 40%, #8b6f47, #5c4a3a, #2a1f1a)",boxShadow:"inset -10px -10px 30px rgba(0,0,0,0.8), 0 0 20px rgba(255,100,100,0.5)",transform:`translate3d(${x.x}px, ${x.y}px, ${x.z}px)`,left:"50%",top:"50%",transition:"transform 0.05s linear"}}),y&&e.jsx("div",{className:"absolute",style:{width:"4px",height:`${Math.sqrt(x.x**2+x.y**2+x.z**2)}px`,background:"linear-gradient(to bottom, #a855f7, transparent)",boxShadow:"0 0 20px #a855f7",transform:`translate3d(0,0,0) rotateZ(${Math.atan2(x.y,x.x)*180/Math.PI}deg) rotateY(${Math.atan2(x.z,Math.sqrt(x.x**2+x.y**2))*180/Math.PI}deg)`,left:"50%",top:"50%",transformOrigin:"top center"}}),A.map(o=>e.jsx("div",{className:"absolute rounded-full",style:{width:"4px",height:"4px",background:"#a855f7",boxShadow:"0 0 10px #a855f7",transform:`translate3d(${o.x}px, ${o.y}px, 0)`,left:"50%",top:"50%",opacity:.8}},o.id))]})}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 text-white text-xs bg-black/50 backdrop-blur p-3 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"🖱️ Drag to rotate • 🔍 Scroll to zoom"}),e.jsx("span",{className:"text-purple-300",children:"3D Simulation Active"})]})})]})},je=({asteroid:t,deflectionAngle:a,deflectionPower:i,effectiveness:c,onProgress:n})=>{const m=f.useRef(null),[g,u]=f.useState(0);return f.useEffect(()=>{const h=m.current;if(!h)return;const s=h.getContext("2d");if(!s)return;h.width=h.offsetWidth,h.height=h.offsetHeight;let l=0,v;const x=h.width/2,r=h.height/2,y=60,j=h.width-100,A=100,S={small:8,medium:15,large:25,massive:40}[t.size],E=c*a*i/100,L=()=>{l+=.008,l>=1?(l=1,n(1)):n(l),u(l),s.fillStyle="#000",s.fillRect(0,0,h.width,h.height);for(let b=0;b<80;b++){const N=b*137.5%h.width,M=b*234.7%h.height;s.fillStyle=`rgba(255, 255, 255, ${.3+Math.random()*.4})`,s.fillRect(N,M,2,2)}const D=s.createRadialGradient(x-15,r-15,0,x,r,y);D.addColorStop(0,"#6bb6ff"),D.addColorStop(.5,"#2e7dd6"),D.addColorStop(1,"#0a3d7a"),s.fillStyle=D,s.beginPath(),s.arc(x,r,y,0,Math.PI*2),s.fill(),s.strokeStyle="rgba(74, 158, 255, 0.4)",s.lineWidth=8,s.beginPath(),s.arc(x,r,y+10,0,Math.PI*2),s.stroke(),s.strokeStyle="rgba(100, 200, 100, 0.3)",s.lineWidth=2,s.setLineDash([5,5]),s.beginPath(),s.arc(x,r,y+80,0,Math.PI*2),s.stroke(),s.setLineDash([]);const T=x-E*3,o=r-E*2,p=j+(T-j)*l,d=A+(o-A)*l;if(s.strokeStyle="rgba(255, 100, 100, 0.4)",s.lineWidth=2,s.beginPath(),s.moveTo(j,A),s.lineTo(T,o),s.stroke(),l>.2&&l<.8){const b=s.createLinearGradient(x,r,p,d);b.addColorStop(0,"rgba(168, 85, 247, 0.8)"),b.addColorStop(1,"rgba(168, 85, 247, 0)"),s.strokeStyle=b,s.lineWidth=4,s.beginPath(),s.moveTo(x,r),s.lineTo(p,d),s.stroke(),s.shadowColor="#a855f7",s.shadowBlur=20,s.stroke(),s.shadowBlur=0;for(let N=0;N<5;N++){const M=(l*5-N*.1)%1;if(M>0&&M<1){const q=x+(p-x)*M,H=r+(d-r)*M;s.fillStyle=`rgba(168, 85, 247, ${1-M})`,s.beginPath(),s.arc(q,H,3,0,Math.PI*2),s.fill()}}}const w=s.createRadialGradient(p-S*.3,d-S*.3,0,p,d,S);if(w.addColorStop(0,"#8b6f47"),w.addColorStop(.6,"#5c4a3a"),w.addColorStop(1,"#2a1f1a"),s.fillStyle=w,s.beginPath(),s.arc(p,d,S,0,Math.PI*2),s.fill(),l>.5){const b=(l-.5)*2;s.strokeStyle=`rgba(255, 100, 100, ${b*.6})`,s.lineWidth=3,s.beginPath(),s.arc(p,d,S+5,0,Math.PI*2),s.stroke()}const F=t.speed*3;s.strokeStyle="rgba(255, 200, 100, 0.6)",s.lineWidth=2,s.beginPath(),s.moveTo(p,d),s.lineTo(p+(T-p)/50*F,d+(o-d)/50*F),s.stroke();const G=Math.sqrt((p-x)**2+(d-r)**2);s.strokeStyle="rgba(255, 255, 255, 0.3)",s.lineWidth=1,s.setLineDash([3,3]),s.beginPath(),s.moveTo(p,d),s.lineTo(x,r),s.stroke(),s.setLineDash([]),s.fillStyle="rgba(255, 255, 255, 0.8)",s.font="12px monospace";const R=(p+x)/2,O=(d+r)/2;s.fillText(`${Math.round(G)} px`,R+10,O),l<1&&(v=requestAnimationFrame(L))};return v=requestAnimationFrame(L),()=>{v&&cancelAnimationFrame(v)}},[t,a,i,c,n]),e.jsxs("div",{className:"w-full h-full relative",children:[e.jsx("canvas",{ref:m,className:"w-full h-full",style:{background:"radial-gradient(ellipse at center, #0a0a1a 0%, #000 100%)"}}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 text-white text-xs bg-black/50 backdrop-blur p-3 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-400",children:"Progress"}),e.jsxs("div",{className:"text-purple-300 font-bold",children:[(g*100).toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-400",children:"Deflection"}),e.jsxs("div",{className:"text-blue-300 font-bold",children:[a.toFixed(1),"°"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-400",children:"Power"}),e.jsxs("div",{className:"text-green-300 font-bold",children:[i,"%"]})]})]})})]})},P=({children:t,className:a=""})=>e.jsx("div",{className:`bg-black/70 backdrop-blur rounded-xl border border-white/10 p-4 ${a}`,children:t}),I=({children:t,className:a=""})=>e.jsx("div",{className:`pb-2 ${a}`,children:t}),z=({children:t,className:a=""})=>e.jsx("h4",{className:`text-lg font-semibold ${a}`,children:t}),$=({children:t,className:a=""})=>e.jsx("div",{className:a,children:t}),C=({children:t,className:a="",variant:i="default",...c})=>{const n="px-3 py-2 rounded-md text-sm font-medium transition",m=i==="default"?"bg-purple-600 hover:bg-purple-700 text-white":i==="outline"?"border border-white/10 bg-transparent text-white":"bg-gray-700 text-white";return e.jsx("button",{className:`${n} ${m} ${a}`,...c,children:t})},B=({children:t,className:a=""})=>e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs border ${a}`,children:t}),Y=({value:t=0,className:a=""})=>e.jsx("div",{className:`w-full bg-white/10 rounded-full h-2 ${a}`,children:e.jsx("div",{style:{width:`${t}%`},className:"h-2 rounded-full bg-purple-500 transition-all"})}),_=[{id:1,size:"small",speed:5,distance:1e6,mass:5e5,composition:"rocky",trajectory:"direct",name:"Apophis-Mini"},{id:2,size:"medium",speed:8,distance:8e5,mass:2e6,composition:"metallic",trajectory:"curved",name:"Bennu-Class"},{id:3,size:"large",speed:12,distance:6e5,mass:8e6,composition:"icy",trajectory:"erratic",name:"Dimorphos-Type"},{id:4,size:"massive",speed:15,distance:4e5,mass:2e7,composition:"metallic",trajectory:"direct",name:"Chicxulub-Danger"}],V={kinetic:{name:"Kinetic Impactor",icon:xe,description:"High-speed spacecraft collision",effectiveness:{rocky:.8,metallic:.6,icy:.9},realWorld:"NASA's DART mission used this method on Dimorphos",power:100},gravity:{name:"Gravity Tractor",icon:me,description:"Gravitational deflection over time",effectiveness:{rocky:.4,metallic:.4,icy:.4},realWorld:"Best for small course corrections with years of advance warning",power:50},nuclear:{name:"Nuclear Device",icon:ge,description:"Nuclear explosion for major deflection",effectiveness:{rocky:.9,metallic:.7,icy:1},realWorld:"Theoretical last resort for short warning times",power:200},laser:{name:"Laser Ablation",icon:oe,description:"Vaporize surface material for thrust",effectiveness:{rocky:.6,metallic:.3,icy:.8},realWorld:"Proposed for small asteroids",power:75}};function be({asteroid:t}){const a={small:1,medium:2.5,large:5,massive:10},i=t.size==="massive"?"EXTINCTION":t.size==="large"?"REGIONAL":t.size==="medium"?"LOCAL":"MINOR",c=t.size==="massive"?"text-red-500":t.size==="large"?"text-orange-500":t.size==="medium"?"text-yellow-500":"text-green-500";return e.jsxs(P,{className:"bg-black/80 border-purple-500 text-white",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5 text-orange-500"}),e.jsx(z,{className:"text-lg",children:t.name})]})}),e.jsxs($,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Size:"}),e.jsx("span",{className:"ml-2 font-semibold text-purple-300",children:t.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Speed:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[t.speed.toFixed(1)," km/s"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Distance:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[(t.distance/1e3).toFixed(0),"k km"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Mass:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[(t.mass/1e6).toFixed(1),"M tons"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(B,{className:"text-xs",children:[" ",t.composition," composition"," "]}),e.jsxs(B,{className:`text-xs ${c} border-current`,children:[" ",i," THREAT"," "]})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:[e.jsx("span",{className:"text-purple-300",children:"Trajectory:"})," ",t.trajectory," approach"]}),e.jsxs("div",{className:"text-xs text-gray-300 bg-gray-900/50 p-2 rounded",children:[e.jsx(ie,{className:"h-3 w-3 inline mr-1"}),"Diameter: ~",(a[t.size]*100).toFixed(0),"m"]})]})]})}function ye({gameState:t,effectiveness:a}){const i=t.currentAsteroid,c=t.power/100,n=Math.max(0,1-Math.abs(t.angle-22.5)/22.5),m={small:1,medium:.8,large:.6,massive:.4}[i.size],g=Math.max(.3,1-(i.speed-5)/20),u=Math.min(1.5,i.distance/5e5),h=a*c*n*m*g*u,s=Math.min(99,Math.max(1,h*100)),l=s>=80?"EXCELLENT":s>=60?"GOOD":s>=40?"FAIR":s>=20?"POOR":"CRITICAL",v=s>=80?"text-green-400":s>=60?"text-blue-400":s>=40?"text-yellow-400":s>=20?"text-orange-400":"text-red-400";return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Success Probability:"}),e.jsxs("span",{className:`text-sm font-bold ${v}`,children:[s.toFixed(1),"%"]})]}),e.jsx(Y,{value:s,className:"h-2"}),e.jsx("div",{className:`text-xs font-semibold ${v}`,children:l}),e.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[e.jsxs("div",{children:["• Power efficiency: ",(c*100).toFixed(0),"%"]}),e.jsxs("div",{children:["• Angle optimization: ",(n*100).toFixed(0),"%"]}),e.jsxs("div",{children:["• Size challenge: ",(m*100).toFixed(0),"%"]}),e.jsxs("div",{children:["• Speed factor: ",(g*100).toFixed(0),"%"]})]})]})}function Ne({gameState:t,onMethodChange:a,onPowerChange:i,onAngleChange:c}){const n=V[t.deflectionMethod],m=t.currentAsteroid,g=n.effectiveness[m.composition];return e.jsxs(P,{className:"bg-black/80 border-purple-500 text-white",children:[e.jsx(I,{children:e.jsx(z,{className:"text-lg",children:"Deflection System"})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-purple-300",children:"Deflection Method"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(V).map(([u,h])=>{const s=h.icon,l=t.deflectionMethod===u;return e.jsxs("button",{onClick:()=>a(u),className:`p-3 flex flex-col items-center gap-1 text-xs rounded-md border transition ${l?"bg-purple-600 border-purple-400":"border-purple-500 bg-transparent hover:bg-purple-900/30"} `,children:[e.jsx(s,{className:"h-4 w-4"}),e.jsx("span",{children:h.name})]},u)})})]}),e.jsxs("div",{className:"bg-gray-900/50 p-3 rounded text-xs space-y-2",children:[e.jsx("div",{className:"font-semibold text-purple-300",children:n.description}),e.jsxs("div",{className:"text-gray-300",children:[e.jsxs("span",{className:"text-yellow-400",children:["Effectiveness vs ",m.composition,":"]})," ",(g*100).toFixed(0),"%"]}),e.jsx("div",{className:"text-gray-400 italic",children:n.realWorld})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-semibold text-purple-300",children:"Power Output"}),e.jsxs("span",{className:"text-sm",children:[t.power,"%"]})]}),e.jsx("input",{type:"range",min:"10",max:n.power,value:t.power,onChange:u=>i(parseInt(u.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg accent-purple-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-semibold text-purple-300",children:"Deflection Angle"}),e.jsxs("span",{className:"text-sm",children:[t.angle.toFixed(1),"°"]})]}),e.jsx("input",{type:"range",min:"0",max:"45",step:"0.5",value:t.angle,onChange:u=>c(parseFloat(u.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg accent-purple-500"})]}),e.jsxs("div",{className:"bg-gray-900/50 p-3 rounded",children:[e.jsx("div",{className:"text-sm font-semibold text-purple-300 mb-2",children:"Mission Analysis"}),e.jsx(ye,{gameState:t,effectiveness:g})]})]})]})}function we({gameState:t}){return e.jsxs(P,{className:"bg-black/80 border-purple-500 text-white",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-yellow-500"}),e.jsx(z,{className:"text-lg",children:"Mission Stats"})]})}),e.jsxs($,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-300",children:t.level}),e.jsx("div",{className:"text-xs text-gray-400",children:"Level"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:t.score}),e.jsx("div",{className:"text-xs text-gray-400",children:"Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.asteroidsSaved}),e.jsx("div",{className:"text-xs text-gray-400",children:"Saved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:t.lives}),e.jsx("div",{className:"text-xs text-gray-400",children:"Lives"})]})]}),t.achievements.length>0&&e.jsxs("div",{className:"border-t border-gray-700 pt-3 mt-3",children:[e.jsx("div",{className:"text-sm font-semibold text-purple-300 mb-2",children:"Recent Achievement"}),e.jsx(B,{className:"bg-yellow-600 text-yellow-100 text-xs",children:t.achievements[t.achievements.length-1]})]})]})]})}function Me({gameState:t,onComplete:a}){const[i,c]=f.useState(0),n=t.currentAsteroid,m=V[t.deflectionMethod],g=m.effectiveness[n.composition],u=f.useCallback(h=>{if(c(h),h>=1){const s=t.power/100,l=Math.max(0,1-Math.abs(t.angle-22.5)/22.5),v={small:1,medium:.8,large:.6,massive:.4}[n.size],x=Math.max(.3,1-(n.speed-5)/20),r=Math.min(1.5,n.distance/5e5),y=g*s*l*v*x*r,A=y*t.angle>=15&&y>.5;setTimeout(()=>a(A),500)}},[g,t.power,t.angle,n,a]);return e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[t.use3DView?e.jsx("div",{className:"absolute inset-0 pointer-events-auto",children:e.jsx(ve,{asteroid:n,deflectionAngle:t.angle,deflectionPower:t.power,effectiveness:g,onProgress:u})}):e.jsx("div",{className:"absolute inset-0 pointer-events-auto",children:e.jsx(je,{asteroid:n,deflectionAngle:t.angle,deflectionPower:t.power,effectiveness:g,onProgress:u})}),e.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-black/90 border border-purple-500 rounded-lg p-4 min-w-[320px] pointer-events-auto z-10",children:[e.jsxs("div",{className:"text-white text-center mb-3",children:[e.jsx("div",{className:"text-lg font-semibold text-purple-300",children:"Mission in Progress"}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Method: ",m.name]})]}),e.jsx(Y,{value:i*100,className:"h-3 mb-3"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-300",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-300",children:"View Mode"}),e.jsx("div",{children:t.use3DView?"3D Interactive":"2D Trajectory"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-300",children:"Effectiveness"}),e.jsxs("div",{children:[(g*100).toFixed(0),"%"]})]})]}),i>.5&&e.jsx("div",{className:"mt-3 text-center",children:e.jsx("div",{className:"text-sm font-semibold text-yellow-400",children:"DEFLECTION IN PROGRESS..."})})]})]})}function Se(){const[t,a]=f.useState({level:1,score:0,lives:3,asteroidsSaved:0,currentAsteroid:_[0],deflectionMethod:"kinetic",power:50,angle:15,isSimulating:!1,showTutorial:!0,achievements:[],asteroidPosition:{x:50,y:20,z:-30},use3DView:!0,showDeflectionBeam:!1}),[i,c]=f.useState(null),n=f.useCallback(s=>{const l=_[Math.min(s-1,_.length-1)],v=.2;return{...l,id:Date.now(),speed:l.speed*(1+(Math.random()-.5)*v),distance:l.distance*(1+(Math.random()-.5)*v),mass:l.mass*(1+(Math.random()-.5)*v),composition:["rocky","metallic","icy"][Math.floor(Math.random()*3)],trajectory:["direct","curved","erratic"][Math.floor(Math.random()*3)],name:l.name}},[]),m=()=>{a(s=>({...s,isSimulating:!0,showTutorial:!1}))},g=s=>{a(r=>{const y=s?r.level*100+r.power:0,j=[...r.achievements];return s&&(r.asteroidsSaved===0&&j.push("First Save!"),r.power>=90&&j.push("Full Power!"),r.angle<=5&&j.push("Precision Shot!")),{...r,isSimulating:!1,score:r.score+y,lives:s?r.lives:r.lives-1,asteroidsSaved:s?r.asteroidsSaved+1:r.asteroidsSaved,level:s?r.level+1:r.level,achievements:j,currentAsteroid:s?n(r.level+1):r.currentAsteroid}});const l={success:["Asteroid successfully deflected! Earth is safe!","Mission accomplished! The asteroid missed Earth!","Excellent work! Another catastrophe averted!","Perfect deflection! Humanity lives another day!"],failure:["Impact detected! The asteroid hit Earth!","Mission failed! Better luck next time!","The deflection wasn't enough. Try adjusting your approach!","Earth was hit! Learn from this and try again!"]},v=s?l.success:l.failure,x=v[Math.floor(Math.random()*v.length)];c({success:s,message:x})},u=()=>{a({level:1,score:0,lives:3,asteroidsSaved:0,currentAsteroid:_[0],deflectionMethod:"kinetic",power:50,angle:15,isSimulating:!1,showTutorial:!0,achievements:[],asteroidPosition:{x:50,y:20,z:-30},use3DView:!0,showDeflectionBeam:!1}),c(null)},h=()=>{c(null)};return t.lives<=0?e.jsx("div",{className:"bg-black min-h-screen flex items-center justify-center",children:e.jsxs(P,{className:"bg-black/80 border-red-500 text-white max-w-md mx-4",children:[e.jsx(I,{children:e.jsx(z,{className:"text-center text-2xl text-red-400",children:"GAME OVER"})}),e.jsxs($,{className:"text-center space-y-4",children:[e.jsxs("div",{className:"text-lg",children:["Final Score:"," ",e.jsx("span",{className:"text-purple-300 font-bold",children:t.score})]}),e.jsxs("div",{className:"text-sm text-gray-300",children:["Asteroids Saved: ",t.asteroidsSaved]}),e.jsxs("div",{className:"text-sm text-gray-300",children:["Highest Level: ",t.level]}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx(C,{onClick:u,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:"Play Again"}),e.jsx(C,{onClick:()=>window.location.href="/Meteor-Madness/",variant:"outline",className:"flex-1",children:"Main Menu"})]})]})]})}):e.jsxs("div",{className:"bg-black  mx-auto px-6 sm:px-12 lg:px-20 py-12 relative min-h-screen overflow-hidden text-white",children:[e.jsxs("div",{className:`absolute left-6 top-0 bottom-6 w-80 overflow-y-auto z-20 space-y-4\r
             scrollbar-thin scrollbar-thumb-purple-500 scrollbar-track-gray-900/30\r
             p-4`,children:[e.jsx(be,{asteroid:t.currentAsteroid}),e.jsx(Ne,{gameState:t,onMethodChange:s=>a(l=>({...l,deflectionMethod:s})),onPowerChange:s=>a(l=>({...l,power:s})),onAngleChange:s=>a(l=>({...l,angle:s}))}),e.jsx(P,{className:"bg-black/80 border-purple-500 text-white",children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-sm font-semibold text-purple-300",children:"Simulation Mode"}),e.jsx(B,{className:"text-xs",children:t.use3DView?"3D":"2D"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{onClick:()=>a(s=>({...s,use3DView:!0})),variant:t.use3DView?"default":"secondary",className:"flex-1",disabled:t.isSimulating,children:[e.jsx(ae,{className:"h-4 w-4 mr-1 inline"})," 3D View"]}),e.jsxs(C,{onClick:()=>a(s=>({...s,use3DView:!1})),variant:t.use3DView?"secondary":"default",className:"flex-1",disabled:t.isSimulating,children:[e.jsx(ne,{className:"h-4 w-4 mr-1 inline"})," 2D View"]})]}),t.use3DView&&e.jsx("div",{className:"mt-3 text-xs text-gray-400",children:"• Drag to rotate camera • Scroll to zoom"})]})}),e.jsx(C,{onClick:m,disabled:t.isSimulating,className:"w-full h-14 text-xl font-bold bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:t.isSimulating?"DEFLECTING...":"LAUNCH MISSION"})]}),e.jsx("div",{className:"absolute right-6 top-0 w-64 z-20",children:e.jsx(we,{gameState:t})}),e.jsx("div",{className:"absolute inset-0",children:t.isSimulating&&e.jsx(Me,{gameState:t,onComplete:g,onStateUpdate:s=>a(l=>({...l,...s}))})}),t.showTutorial&&e.jsx("div",{className:"absolute inset-0 bg-black/90 z-50 flex items-center justify-center",children:e.jsxs(P,{className:"max-w-2xl mx-4",children:[e.jsx(I,{children:e.jsx(z,{className:"text-center text-2xl",children:"Mission Briefing: Planetary Defense"})}),e.jsxs($,{className:"space-y-4",children:[e.jsx("p",{children:"Welcome to Earth's planetary defense system. An asteroid is approaching and you must deflect it!"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-purple-300",children:"Your Tools:"}),e.jsxs("ul",{className:"text-sm space-y-1 text-gray-300",children:[e.jsx("li",{children:"• Kinetic Impactor — ram a spacecraft into the asteroid"}),e.jsx("li",{children:"• Gravity Tractor — use gravitational pull to slowly change course"}),e.jsx("li",{children:"• Nuclear Device — last resort for maximum deflection power"}),e.jsx("li",{children:"• Laser Ablation — vaporize surface material to create thrust"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-purple-300",children:"Strategy Tips:"}),e.jsxs("ul",{className:"text-sm space-y-1 text-gray-300",children:[e.jsx("li",{children:"• Different compositions respond differently to methods"}),e.jsx("li",{children:"• Larger asteroids need more power and optimal angles"}),e.jsx("li",{children:"• Earlier detection gives better chances"}),e.jsx("li",{children:"• Aim for 15+ degree deflection for guaranteed success"})]})]}),e.jsx(C,{onClick:()=>a(s=>({...s,showTutorial:!1})),className:"w-full bg-purple-600 hover:bg-purple-700",children:"Begin Mission"})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",children:e.jsxs(P,{className:`${i.success?"border-green-500":"border-red-500"} bg-black/90 text-white max-w-md mx-4`,children:[e.jsx(I,{children:e.jsx(z,{className:`text-center text-2xl ${i.success?"text-green-400":"text-red-400"}`,children:i.success?"MISSION SUCCESS!":"MISSION FAILED!"})}),e.jsxs($,{className:"space-y-4 text-center",children:[e.jsx("p",{className:"text-lg",children:i.message}),i.success&&e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsxs("div",{children:["Points Earned:"," ",e.jsxs("span",{className:"text-purple-300 font-bold",children:["+",t.level*100+t.power]})]}),e.jsxs("div",{children:["Next Level:"," ",e.jsx("span",{className:"text-blue-300 font-bold",children:t.level})]})]}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx(C,{onClick:i.success?h:()=>c(null),className:"flex-1 bg-purple-600 hover:bg-purple-700",children:i.success?"Next Level":"Try Again"}),e.jsx(C,{onClick:()=>window.location.reload(),variant:"outline",className:"flex-1",children:"Main Menu"})]})]})]})})]})}export{Se as default};
